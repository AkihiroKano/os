#!/bin/bash
# Создание файлов и каталогов с именами, содержащими спецсимволы
names=(
    "file with spaces.txt"
    "-r"
    "\\path\\file"
    "??.txt"
    "&.txt"
    "|file|.txt"
    "#abc.txt"
    "'d d'"
    "–file.txt"
    "file\nname.txt"
    "dir with space/subdir?"
)

for name in "${names[@]}"; do
    # Экранирование спецсимволов
    safe_name=$(printf "%q" "$name")
    if [[ "$name" == */* ]]; then
        mkdir -p "$(dirname "$safe_name")" || echo "Ошибка создания каталога: $name"
    fi
    if [[ "$name" == *.* ]]; then
        touch "$safe_name" || echo "Ошибка создания файла: $name"
    else
        mkdir -p "$safe_name" || echo "Ошибка создания каталога: $name"
    fi
done

echo "Тестовые файлы и каталоги созданы."
